$('[data-schedulable]').remove();

<% if @schedulable %>
  $('[data-object-id="<%= @schedulable.to_param %>"]').after(
    '<%= j render 'schedulable' %>'
  );
  $('#schedule_description').focus();
<% else %>
  $('[data-schedule-modal]').html(
    '<%= j render(template: 'schedules/schedule_modal', formats: [:html]) %>'
  );

  $('#schedule_modal').modal().on('shown', function(){
    $(this).find('textarea:first').focus();
  });
<% end %>

<%= render 'datepicker_setup' %>
