$('[data-schedulable]').remove();

$('[data-object-id="<%= @schedulable.to_param %>"]').after(
  $('<tr data-schedulable id="schedulable-id-<%= @schedulable.to_param %>"></tr>').html(
    $('<td colspan="7"></td>').html(
      '<%= j render(template: 'schedules/new', formats: [:html]) %>'
    )
  )
);

$('[data-datetime-picker-id="<%= @schedulable.to_param %>"]').datetimepicker({
  altField: '#datetime-picker-id-<%= @schedulable.to_param %>',
  showButtonPanel: false,
  altFieldTimeOnly: false,
  minDateTime: new Date("<%= l 10.minutes.from_now, format: :datetime %>")
}).datetimepicker(
  "setDate", '<%= l @schedule.scheduled_at, format: :minimal %>'
);
