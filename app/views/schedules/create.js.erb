<% if @schedulable %>
  <% if @schedule.persisted? %>
    $('[data-object-id="<%= @schedulable.to_param %>"]').addClass('warning');
    $('[data-schedule-id="<%= @schedulable.to_param %>"]').remove();
  <% else %>
    $('#new_schedule_<%= @schedulable.to_param %>').replaceWith(
      '<%= j render(template: 'schedules/new', formats: [:html]) %>'
    );
    <%= render 'datepicker_setup' %>
  <% end %>
<% else %>
  <% if @schedule.persisted? %>
    $('[data-new-schedule-place-holder]').html('');
    <%= render 'shared/notice' %>
  <% else %>
  <% end %>
<% end %>
